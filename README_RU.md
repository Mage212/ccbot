# CCBot

[English README](README.md)
[‰∏≠ÊñáÊñáÊ°£](README_CN.md)

–£–¥–∞–ª—ë–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ Claude Code —á–µ—Ä–µ–∑ Telegram ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞–±–æ—Ç–∞ —Å AI-—Å–µ—Å—Å–∏—è–º–∏ –≤ tmux.

https://github.com/user-attachments/assets/15ffb38e-5eb9-4720-93b9-412e4961dc93

## –ó–∞—á–µ–º CCBot?

Claude Code —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –ö–æ–≥–¥–∞ –≤—ã –æ—Ç—Ö–æ–¥–∏—Ç–µ –æ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ ‚Äî –≤ –¥–æ—Ä–æ–≥–µ, –¥–æ–º–∞ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–∞ —Ä–∞–±–æ—á–∏–º –º–µ—Å—Ç–æ–º ‚Äî —Å–µ—Å—Å–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, –Ω–æ –≤—ã —Ç–µ—Ä—è–µ—Ç–µ –≤–∏–¥–∏–º–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å.

CCBot –ø–æ–∑–≤–æ–ª—è–µ—Ç **–±–µ—Å—à–æ–≤–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ç—É –∂–µ —Å–∞–º—É—é —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ Telegram**. –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è: –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö **tmux**, –∞ –Ω–µ —á–µ—Ä–µ–∑ Claude Code SDK. –ü—Ä–æ—Ü–µ—Å—Å Claude Code –æ—Å—Ç–∞—ë—Ç—Å—è –≤ tmux-–æ–∫–Ω–µ –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ, –∞ CCBot —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –≤—ã–≤–æ–¥ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å –¥–µ—Å–∫—Ç–æ–ø–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ä–∞–±–æ—Ç—ã** ‚Äî Claude –¥–µ–ª–∞–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥? –ú–æ–∂–Ω–æ –æ—Ç–æ–π—Ç–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç—å/–æ—Ç–≤–µ—á–∞—Ç—å –∏–∑ Telegram.
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ –¥–µ—Å–∫—Ç–æ–ø—É** ‚Äî tmux-—Å–µ—Å—Å–∏—è –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è; `tmux attach` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞—Å –≤ —Ç–æ—Ç –∂–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Å—Å–∏—è–º–∏** ‚Äî –∫–∞–∂–¥—ã–π Telegram topic —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–º—É tmux-–æ–∫–Ω—É.

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö Telegram-–±–æ—Ç–æ–≤ –¥–ª—è Claude Code –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ API-—Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ SDK. –¢–∞–∫–∏–µ —Å–µ—Å—Å–∏–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è –≤ –≤–∞—à–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. CCBot —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω–∞—á–µ: —ç—Ç–æ —Ç–æ–Ω–∫–∏–π —Å–ª–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–¥ tmux, –ø–æ—ç—Ç–æ–º—É —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Å—Ç–∞—ë—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã, –∏ –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–µ–º—É.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–°–µ—Å—Å–∏–∏ –ø–æ —Ç–µ–º–∞–º** ‚Äî –∫–∞–∂–¥—ã–π Telegram topic 1:1 —Å–≤—è–∑–∞–Ω —Å tmux-–æ–∫–Ω–æ–º –∏ Claude-—Å–µ—Å—Å–∏–µ–π
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –æ—Ç–≤–µ—Ç—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, thinking-–∫–æ–Ω—Ç–µ–Ω—Ç, tool use/result, –≤—ã–≤–æ–¥ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π UI** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AskUserQuestion, ExitPlanMode –∏ Permission Prompt —á–µ—Ä–µ–∑ inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
- **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Äî –ø—Ä–æ–±—Ä–æ—Å —Ç–µ–∫—Å—Ç–∞ –≤ Claude Code —á–µ—Ä–µ–∑ tmux
- **–ü—Ä–æ–±—Ä–æ—Å slash-–∫–æ–º–∞–Ω–¥** ‚Äî –ª—é–±–∞—è `/command` —É—Ö–æ–¥–∏—Ç –Ω–∞–ø—Ä—è–º—É—é –≤ Claude Code (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/clear`, `/compact`, `/cost`)
- **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Å—Å–∏–π** ‚Äî –∑–∞–ø—É—Å–∫ Claude Code –∏–∑ Telegram —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π** ‚Äî –∑–∞–∫—Ä—ã—Ç–∏–µ topic –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ–µ tmux-–æ–∫–Ω–æ
- **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** ‚Äî –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ (—Å–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ)
- **–¢—Ä–µ–∫–∏–Ω–≥ —Å–µ—Å—Å–∏–π —á–µ—Ä–µ–∑ hook** ‚Äî –∞–≤—Ç–æ-—Å–≤—è–∑—ã–≤–∞–Ω–∏–µ tmux-–æ–∫–æ–Ω —Å Claude-—Å–µ—Å—Å–∏—è–º–∏ —á–µ—Ä–µ–∑ `SessionStart`
- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** ‚Äî –ø—Ä–∏–≤—è–∑–∫–∏ topic/window –∏ read-offset —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **tmux** ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH
- **Claude Code** ‚Äî CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `claude` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ß–µ—Ä–µ–∑ uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
uv tool install git+https://github.com/six-ddc/ccmux.git

# –ò–ª–∏ —á–µ—Ä–µ–∑ pipx
pipx install git+https://github.com/six-ddc/ccmux.git
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
git clone https://github.com/six-ddc/ccmux.git
cd ccmux
uv sync
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**1. –°–æ–∑–¥–∞–π—Ç–µ Telegram-–±–æ—Ç–∞ –∏ –≤–∫–ª—é—á–∏—Ç–µ Threaded Mode:**

1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather), —Å–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å @BotFather –∏ –Ω–∞–∂–º–∏—Ç–µ **Open App**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞, –∑–∞—Ç–µ–º **Settings** > **Bot Settings**
4. –í–∫–ª—é—á–∏—Ç–µ **Threaded Mode**

**2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

–°–æ–∑–¥–∞–π—Ç–µ `~/.ccbot/.env`:

```ini
TELEGRAM_BOT_TOKEN=your_bot_token_here
ALLOWED_USERS=your_telegram_user_id
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
| ---------- | -------- |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather |
| `ALLOWED_USERS` | –°–ø–∏—Å–æ–∫ Telegram user ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é |

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
| ---------- | ------------ | -------- |
| `CCBOT_DIR` | `~/.ccbot` | –ö–∞—Ç–∞–ª–æ–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏/—Å–æ—Å—Ç–æ—è–Ω–∏—è (`.env` –≥—Ä—É–∑–∏—Ç—Å—è –æ—Ç—Å—é–¥–∞) |
| `TMUX_SESSION_NAME` | `ccbot` | –ò–º—è tmux-—Å–µ—Å—Å–∏–∏ |
| `CLAUDE_COMMAND` | `claude` | –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ –≤ –Ω–æ–≤—ã—Ö –æ–∫–Ω–∞—Ö |
| `MONITOR_POLL_INTERVAL` | `2.0` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| `CCBOT_SHOW_HIDDEN_DIRS` | `false` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∫—Ä—ã—Ç—ã–µ (dot) –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ |

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–≥–¥–∞ HTML —á–µ—Ä–µ–∑ `chatgpt-md-converter` (`chatgpt_md_converter`).
–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∞ MarkdownV2 –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ—Ç.

> –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ VPS –±–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
>
> ```
> CLAUDE_COMMAND=IS_SANDBOX=1 claude --dangerously-skip-permissions
> ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Hook (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ê–≤—Ç–æ-—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ CLI:

```bash
ccbot hook --install
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤—å—Ç–µ –≤ `~/.claude/settings.json`:

```json
{
  "hooks": {
    "SessionStart": [
      {
        "hooks": [{ "type": "command", "command": "ccbot hook", "timeout": 5 }]
      }
    ]
  }
}
```

–≠—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ window-session –≤ `$CCBOT_DIR/session_map.json` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `~/.ccbot/`), —á—Ç–æ–±—ã –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–ª, –∫–∞–∫–∞—è Claude-—Å–µ—Å—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–∞–∂–¥–æ–º tmux-–æ–∫–Ω–µ ‚Äî –¥–∞–∂–µ –ø–æ—Å–ª–µ `/clear` –∏–ª–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ —Å–µ—Å—Å–∏–∏.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ uv tool / pipx
ccbot

# –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
uv run ccbot
```

### –ö–æ–º–∞–Ω–¥—ã

**–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:**

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| ------- | -------- |
| `/start` | –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `/history` | –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ topic |
| `/screenshot` | –°–Ω–∏–º–æ–∫ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ |
| `/esc` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å Escape –¥–ª—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è Claude |

**–ö–æ–º–∞–Ω–¥—ã Claude Code (–ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ tmux):**

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| ------- | -------- |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ |
| `/compact` | –£–ø–ª–æ—Ç–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ |
| `/cost` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–∫–µ–Ω–æ–≤/—Å—Ç–æ–∏–º–æ—Å—Ç–∏ |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ Claude Code |
| `/memory` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å CLAUDE.md |

–õ—é–±–∞—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è `/command` —Ç–∞–∫–∂–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ Claude Code –∫–∞–∫ –µ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/review`, `/doctor`, `/init`).

### Workflow –ø–æ topic

**1 topic = 1 window = 1 session.** –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ Telegram Forum Topics.

**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏:**

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π topic –≤ Telegram-–≥—Ä—É–ø–ø–µ
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ topic
3. –ü–æ—è–≤–∏—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞
4. –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ tmux-–æ–∫–Ω–æ, –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è `claude`, –∏ –≤–∞—à–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ —Å–µ—Å—Å–∏—é

**–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:**

–ü–æ—Å–ª–µ –ø—Ä–∏–≤—è–∑–∫–∏ topic –∫ —Å–µ—Å—Å–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ç–µ–∫—Å—Ç –≤ topic ‚Äî –æ–Ω —É—Ö–æ–¥–∏—Ç –≤ Claude Code —á–µ—Ä–µ–∑ tmux.

**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏:**

–ó–∞–∫—Ä–æ–π—Ç–µ (–∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ) topic –≤ Telegram. –°–≤—è–∑–∞–Ω–Ω–æ–µ tmux-–æ–∫–Ω–æ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –ø—Ä–∏–≤—è–∑–∫–∞ —É–¥–∞–ª–µ–Ω–∞.

### –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

–ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏:

```
üìã [project-name] Messages (42 total)

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 14:32 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

üë§ fix the login bug

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 14:33 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

I'll look into the login bug...

[‚óÄ Older]    [2/9]    [Newer ‚ñ∂]
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ú–æ–Ω–∏—Ç–æ—Ä –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç session JSONL-—Ñ–∞–π–ª—ã –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:

- **–û—Ç–≤–µ—Ç–∞—Ö –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã Claude
- **Thinking-–∫–æ–Ω—Ç–µ–Ω—Ç–µ** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ–º—ã–µ —Ü–∏—Ç–∞—Ç—ã
- **Tool use/result** ‚Äî –∫—Ä–∞—Ç–∫–∏–µ —Å–≤–æ–¥–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Read 42 lines`, `Found 5 matches`)
- **–í—ã–≤–æ–¥–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥** ‚Äî stdout –∫–æ–º–∞–Ω–¥ –≤—Ä–æ–¥–µ `git status`, –ø—Ä–µ—Ñ–∏–∫—Å `‚ùØ command_name`

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ topic, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –æ–∫–Ω—É —Å–µ—Å—Å–∏–∏.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:
- Telegram-—Å–æ–æ–±—â–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Å parse mode `HTML` —á–µ—Ä–µ–∑ `chatgpt-md-converter`
- –î–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–µ–ª—è—Ç—Å—è —Å —É—á—ë—Ç–æ–º HTML-—Ç–µ–≥–æ–≤, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–¥-–±–ª–æ–∫–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ó–∞–ø—É—Å–∫ Claude Code –≤ tmux

### –í–∞—Ä–∏–∞–Ω—Ç 1: —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ Telegram (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π topic –≤ Telegram-–≥—Ä—É–ø–ø–µ
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é

```bash
tmux attach -t ccbot
tmux new-window -n myproject -c ~/Code/myproject
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude Code –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ
claude
```

–û–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ tmux-—Å–µ—Å—Å–∏–∏ `ccbot` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `TMUX_SESSION_NAME`). Hook –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –µ–≥–æ –≤ `session_map.json` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Claude.

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Topic ID   ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ Window ID   ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∂ ‚îÇ Session ID  ‚îÇ
‚îÇ (Telegram)  ‚îÇ      ‚îÇ (tmux @id)  ‚îÇ      ‚îÇ  (Claude)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   thread_bindings       session_map.json
   (state.json)          (–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è hook)
```

## –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

| –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
| ---- | -------- |
| `$CCBOT_DIR/state.json` | –ü—Ä–∏–≤—è–∑–∫–∏ topic, —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–∫–æ–Ω, display names –∏ read-offset –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `$CCBOT_DIR/session_map.json` | Hook-—Ç–∞–±–ª–∏—Ü–∞ `{tmux_session:window_id: {session_id, cwd, window_name}}` |
| `$CCBOT_DIR/monitor_state.json` | Byte-offset –º–æ–Ω–∏—Ç–æ—Ä–∞ –ø–æ —Å–µ—Å—Å–∏—è–º (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏) |
| `~/.claude/projects/` | –î–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–π Claude Code (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ) |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/ccbot/
‚îú‚îÄ‚îÄ __init__.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ main.py                # CLI-–¥–∏—Å–ø–µ—Ç—á–µ—Ä (hook –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞ + –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞)
‚îú‚îÄ‚îÄ hook.py                # Hook-–ø–æ–¥–∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ —Å–µ—Å—Å–∏–π (+ --install)
‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ bot.py                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-–±–æ—Ç–∞, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥, topic routing
‚îú‚îÄ‚îÄ session.py             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏, persist —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ session_monitor.py     # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ JSONL-—Ñ–∞–π–ª–æ–≤ (polling + –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îú‚îÄ‚îÄ monitor_state.py       # Persist —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∞ (byte-offset)
‚îú‚îÄ‚îÄ transcript_parser.py   # –ü–∞—Ä—Å–∏–Ω–≥ JSONL-—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤ Claude Code
‚îú‚îÄ‚îÄ terminal_parser.py     # –ü–∞—Ä—Å–∏–Ω–≥ terminal pane (interactive UI + status line)
‚îú‚îÄ‚îÄ html_converter.py      # Markdown -> Telegram HTML + HTML-aware splitting
‚îú‚îÄ‚îÄ screenshot.py          # Terminal text -> PNG —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ANSI-—Ü–≤–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ utils.py               # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (atomic JSON writes, JSONL helpers)
‚îú‚îÄ‚îÄ tmux_manager.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ tmux-–æ–∫–Ω–∞–º–∏ (list, create, send keys, kill)
‚îú‚îÄ‚îÄ fonts/                 # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
‚îî‚îÄ‚îÄ handlers/
    ‚îú‚îÄ‚îÄ __init__.py        # –≠–∫—Å–ø–æ—Ä—Ç—ã handler-–º–æ–¥—É–ª–µ–π
    ‚îú‚îÄ‚îÄ callback_data.py   # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã callback data (–ø—Ä–µ—Ñ–∏–∫—Å—ã CB_*)
    ‚îú‚îÄ‚îÄ directory_browser.py # Inline UI –±—Ä–∞—É–∑–µ—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
    ‚îú‚îÄ‚îÄ history.py         # –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    ‚îú‚îÄ‚îÄ interactive_ui.py  # –û–±—Ä–∞–±–æ—Ç–∫–∞ interactive UI (AskUser, ExitPlan, Permissions)
    ‚îú‚îÄ‚îÄ message_queue.py   # –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + worker (merge, rate limit)
    ‚îú‚îÄ‚îÄ message_sender.py  # safe_reply / safe_edit / safe_send helpers
    ‚îú‚îÄ‚îÄ response_builder.py # –°–±–æ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (tool_use, thinking –∏ —Ç.–¥.)
    ‚îî‚îÄ‚îÄ status_polling.py  # Polling terminal status line
```

## –£—á–∞—Å—Ç–Ω–∏–∫–∏

–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º, –∫—Ç–æ –≤–Ω–æ—Å–∏—Ç –≤–∫–ª–∞–¥! –ú—ã –ø–æ–æ—â—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Claude Code –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

<a href="https://github.com/six-ddc/ccmux/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=six-ddc/ccmux" />
</a>
